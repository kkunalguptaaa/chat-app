<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <link rel="icon" href="./img/favicon.png">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="Stylesheet" href="./css/styles.min.css">
        <style type="text/css">
             @media(max-width:768px){
                .chat__sidebar{
                    display: none;
                }
                .chat__main{
                    width:100%;
                    display: flex;
                    flex-grow: 1;
                    flex-direction: column;
                    height: 100vh;
                    max-height: 100vh;
                }
            }
        </style>
    </head>
    <body>
        <div class=" m-0 p-0 container-fluid">
            <div class="chat row" >
                <div id="sidebar" class="chat__sidebar  p-0 col-lg-3 col-xl-3 col-md-3"></div>
                <div class="chat__main  p-0 col-lg-9 col-xl-9 col-md-9">
                    <div id="msgs" class="chat__messages"></div>
                    <div class="compose">
                        <form id="messageForm">
                            <input placeholder="Message" id="input"  autocomplete="off">
                            <button  id="messageFormButton">Send</button>
                        </form>
                        <button id="send-location">Send location</button>
                    </div>
                </div>
            </div>
        </div>
  
       
        <script id="admin-msg-template" type="text/html">
            <div  class="admin-message">
                <div class="msg-container">
                    <p>
                        <span class="message__meta">{{createdAt}}</span>
                    </p>
                    <p class="msg-box admin-msg-box"> {{msg}}</p>
                </div>
            </div>
        </script>
        <script id="msg-template" type="text/html">
            <div class="message">
                <div class="msg-container">
                    <p>
                        <span class="message__name">{{username}}</span> 
                        <span class="message__meta">{{createdAt}}</span>
                    </p>
                    <p class="msg-box other-msg-box"> {{msg}}</p>
                </div>
            </div>
        </script>
        <script id="my-msg-template" type="text/html">
            <div class="my-message">
                <div class="msg-container">
                    <p>
                        <span class="my__message__meta">{{createdAt}}</span>
                        <span class="my__message__name">{{username}}</span>
                    </p>
                    <p class="msg-box my-msg-box"> {{msg}}</p>
                </div>
            </div>
        </script>
        <script id="location-msg-template" type="text/html">
            <div class="message">
                <div class="msg-container">
                    <p>
                        <span class="message__name">{{username}}</span>
                        <span class="message__meta">{{createdAt}}</span>
                    </p>            
                    <p class="msg-box other-msg-box"><a href="{{url}}" target="_blank">My Current Location.</a></p>  
                </div>
            </div>
        </script>
        <script id="my-location-msg-template" type="text/html">
            <div class="my-message">
                <div class="msg-container">
                    <p>
                        <span class="my__message__meta">{{createdAt}}</span>
                        <span class="my__message__name">{{username}}</span>
                    </p>            
                    <p class="msg-box my-msg-box"><a href="{{url}}" target="_blank">My Current Location.</a></p>  
                </div>
            </div>
        </script>
        <script id="sidebar-template" type="text/html">
            <h2 class="room-title">{{room}}</h2>
            <h2 class="list-title">Users</h2>
            <ul class="users">
                {{#users}}
                    <li><img width="12px" src="./img/favicon.png"> {{username}}</li>
                {{/users}}
            </ul>
        </script>
        <!-- <button onclick="inc()">+1</button> -->
        <script src="/socket.io/socket.io.js"></script> <!---this is the client side version of socket.io library
                                                     and when we load it in, our client side js code will have 
                                            full access to stuff from library in order to set up communication.-->
     
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.6.0/qs.min.js"></script>
        <script src="/js/chat.js"></script>

    <!--------------bootstrap-links-->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <!--------------bootstrap-links-->
    <!-- <script>
        if( window.outerWidth<768){
            document.querySelector('.chat__sidebar').style.display="none"
        }
    </script> -->
    </body>
</html>